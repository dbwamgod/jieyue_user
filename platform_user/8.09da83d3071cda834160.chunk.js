webpackJsonp([8],{262:function(e,t,r){"use strict";function a(e){l||r(367)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(312),o=r.n(i);for(var s in i)"default"!==s&&function(e){r.d(t,e,function(){return i[e]})}(s);var n=r(369),u=r.n(n),l=!1,m=r(0),c=a,d=m(o.a,u.a,!1,c,"data-v-8df468e4",null);d.options.__file="src\\views\\resource\\addResources.vue",t.default=d.exports},312:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(100),o=a(i),s=r(2),n=a(s);t.default={data:function(){return{isShow:!1,value1:[],formRight:{description:"",resourceName:"",url:"",mustUrl:"",resourceCode:"",isMenu:0},tenantId:[],data1:[{value:"",label:""},{value:"",label:""}],ruleInline:{description:[{required:!1,message:"请输入信息描述",trigger:"blur"}],resourceName:[{required:!0,message:"请输入资源名称",trigger:"blur"},{type:"string",message:"请输入正确的资源名",trigger:"blur"}],url:[{required:!1,trigger:"blur"}],mustUrl:[{required:!0,message:"请输入资源路径",trigger:"blur"}],resourceCode:[{required:!0,message:"请输入资源编码",trigger:"blur"}]}}},created:function(){this.init(),n.default.remove("res_index")},watch:{"formRight.isMenu":function(e,t){1==e?(this.ruleInline.mustUrl=[],this.formRight.url=this.formRight.mustUrl,this.isShow=!0):(this.ruleInline.mustUrl=[{required:!0,message:"请输入资源路径",trigger:"blur"}],this.formRight.mustUrl=this.formRight.url,this.isShow=!1)}},methods:{init:function(){var e=this;this.$axios({method:"get",url:o.default.res_lists(),headers:{Authorization:n.default.get("token"),"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){200==t.data.code?e.data1=e.CascaderIsName(t.data.data):e.$Message.info(t.data.msg)})},CascaderIsName:function(e){var t=this;return e.map(function(e){return e.hasOwnProperty("voList")?{label:e.tenantName||e.resourceName,value:e.tenantId||0,children:t.CascaderIsName(e.voList)}:{label:e.tenantName||e.resourceName,value:e.resourceId||0}})},handleSubmit:function(e){var t=this;this.$refs.formRight.validate(function(e){e?t.$axios({method:"post",url:o.default.res_add(),data:{isMenu:Number(t.formRight.isMenu),description:t.formRight.description,parentId:t.value1[1],resourceName:t.formRight.resourceName,tenantId:t.value1[0],url:t.formRight.url,resourceCode:t.formRight.resourceCode,userId:n.default.get("user_userId")},headers:{Authorization:n.default.get("token"),"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){if(200==e.data.code){t.formRight;t.$router.back(-1)}else t.$Message.info(e.data.msg)}):t.$Message.info("请输入有效信息")})},handleReset:function(){this.$router.back(-1)}}}},367:function(e,t,r){var a=r(368);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(9)("09c16e92",a,!1)},368:function(e,t,r){t=e.exports=r(8)(!1),t.push([e.i,"\n.paging[data-v-8df468e4] {\n    float: right;\n    margin-top: 10px;\n}\n",""])},369:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{margin:"85px 0 0 110px",width:"351px"}},[r("Form",{ref:"formRight",attrs:{model:e.formRight,"label-position":"right","label-width":100,rules:e.ruleInline}},[r("FormItem",{attrs:{label:"描述"}},[r("Input",{model:{value:e.formRight.description,callback:function(t){e.$set(e.formRight,"description",t)},expression:"formRight.description"}})],1),e._v(" "),r("FormItem",{attrs:{label:"资源名",prop:"resourceName"}},[r("Input",{model:{value:e.formRight.resourceName,callback:function(t){e.$set(e.formRight,"resourceName",t)},expression:"formRight.resourceName"}})],1),e._v(" "),r("FormItem",{attrs:{label:"租户+上级资源"}},[r("Cascader",{attrs:{data:e.data1},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),r("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"资源地址",prop:"url"}},[r("Input",{model:{value:e.formRight.url,callback:function(t){e.$set(e.formRight,"url",t)},expression:"formRight.url"}})],1),e._v(" "),r("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],attrs:{label:"资源地址",prop:"mustUrl"}},[r("Input",{model:{value:e.formRight.mustUrl,callback:function(t){e.$set(e.formRight,"mustUrl",t)},expression:"formRight.mustUrl"}})],1),e._v(" "),r("FormItem",{attrs:{label:"资源编码",prop:"resourceCode"}},[r("Input",{model:{value:e.formRight.resourceCode,callback:function(t){e.$set(e.formRight,"resourceCode",t)},expression:"formRight.resourceCode"}})],1),e._v(" "),r("FormItem",{attrs:{label:"是否为菜单",prop:"isMenu"}},[r("RadioGroup",{model:{value:e.formRight.isMenu,callback:function(t){e.$set(e.formRight,"isMenu",t)},expression:"formRight.isMenu"}},[r("Radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),r("Radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),e._v(" "),r("Form",{staticStyle:{"margin-left":"100px"}},[r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formRight")}}},[e._v("确定")]),e._v(" "),r("Button",{staticStyle:{"margin-left":"8px"},on:{click:e.handleReset}},[e._v("取消")])],1)],1)],1)},i=[];a._withStripped=!0;var o={render:a,staticRenderFns:i};t.default=o}});