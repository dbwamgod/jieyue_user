webpackJsonp([19],{271:function(n,e,t){"use strict";function r(n){l||t(401)}Object.defineProperty(e,"__esModule",{value:!0});var o=t(323),a=t.n(o);for(var i in o)"default"!==i&&function(n){t.d(e,n,function(){return o[n]})}(i);var s=t(403),d=t.n(s),l=!1,c=t(0),u=r,m=c(a.a,d.a,!1,u,"data-v-0c2b27a9",null);m.options.__file="src\\views\\access\\access_adds.vue",e.default=m.exports},323:function(n,e,t){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(100),a=r(o),i=t(2),s=r(i);e.default={inject:["reload"],created:function(){this.init(),this.$store.commit("bindingChangeRes"),s.default.remove("role_index")},mounted:function(){},methods:{init:function(){var n=this;this.$axios({method:"get",url:a.default.tenant_ListId(),headers:{Authorization:s.default.get("token"),"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){200==e.data.code?(n.tenantInfo=e.data.data,n.data=n.tenantInfo.map(function(n,e){return{value:n.tenantId,label:n.tenantName}})):n.$Message.info(e.data.msg)})},oks:function(n){var e=this;this.$refs[n].validate(function(n){n?"未选择"!==e.text?e.$axios({method:"post",url:a.default.role_add(),data:{description:e.formItem.description,orderNo:e.formItem.orderNo,roleName:e.formItem.roleName,tenantId:e.id,userId:s.default.get("user_userId")},headers:{Authorization:s.default.get("token"),"Content-Type":"application/json;charset=UTF-8"}}).then(function(n){200==n.data.code?(e.$router.back(-1),e.formItem={},e.formItem.orderNo="100",e.text="未选择"):500==n.data.code?e.$Message.info("您的参数有误"):"未选择"===e.text?e.$Message.info("未选择租户"):e.$Message.info(n.data.msg)}):e.$Message.info("未选择租户"):e.$Message.info("请输入正确的信息")})},onCanel:function(){this.$router.back(-1),this.formItem={},this.formItem.orderNo="100",this.text="未选择",this.reload()},handleChange:function(n,e){this.text=e.map(function(n){return n.label}).join(", "),this.id=e.map(function(n){return n.value}).join(", ")}},name:"access_add",data:function(){return{ruleValidate:{roleName:[{required:!0,message:"角色名不能为空",trigger:"blur"}],orderNo:[{required:!1,type:"string",pattern:/^\d+$/,message:"请输入正确的序号",trigger:"blur"}]},id:"",tenantInfo:"",text:"未选择",data:[],formItem:{description:"",orderNo:"100",roleName:""}}}}},401:function(n,e,t){var r=t(402);"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);t(9)("2db7775c",r,!1)},402:function(n,e,t){e=n.exports=t(8)(!1),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},403:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticStyle:{margin:"85px 0 0 110px",width:"351px"}},[t("Form",{ref:"formItem",attrs:{model:n.formItem,rules:n.ruleValidate,"label-width":80}},[t("FormItem",{attrs:{label:"描述",prop:"description"}},[t("Input",{attrs:{placeholder:"请填写描述"},model:{value:n.formItem.description,callback:function(e){n.$set(n.formItem,"description",e)},expression:"formItem.description"}})],1),n._v(" "),t("FormItem",{attrs:{label:"排序号",prop:"orderNo"}},[t("Input",{attrs:{placeholder:"请填写排序"},model:{value:n.formItem.orderNo,callback:function(e){n.$set(n.formItem,"orderNo",e)},expression:"formItem.orderNo"}})],1),n._v(" "),t("FormItem",{attrs:{label:"角色名",prop:"roleName"}},[t("Input",{attrs:{placeholder:"请填写角色名"},model:{value:n.formItem.roleName,callback:function(e){n.$set(n.formItem,"roleName",e)},expression:"formItem.roleName"}})],1),n._v(" "),t("p",{staticStyle:{"margin-left":"83px"}},[n._v(n._s(n.text))]),n._v(" "),t("FormItem",{attrs:{label:"租户"}},[t("Cascader",{attrs:{data:n.data},on:{"on-change":n.handleChange}},[t("a",{staticStyle:{display:"inline-block",width:"100px","text-align":"center","line-height":"32px",height:"32px",border:"1px solid #555","border-radius":"10%",opacity:".3",color:"#000000"},attrs:{href:"javascript:void(0)"}},[n._v("请点击选择")])])],1),n._v(" "),t("FormItem",[t("Button",{staticStyle:{margin:"35px 10px 0 40px"},attrs:{type:"primary"},on:{click:function(e){n.oks("formItem")}}},[n._v("确定")]),n._v(" "),t("Button",{staticStyle:{"margin-top":"35px"},on:{click:n.onCanel}},[n._v("返回")])],1)],1)],1)},o=[];r._withStripped=!0;var a={render:r,staticRenderFns:o};e.default=a}});